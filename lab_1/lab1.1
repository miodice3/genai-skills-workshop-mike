{
  "cells": [
    {
      "cell_type": "markdown",
      "id": "gXt1GTeWBgVjHDGY8eN6ULVr",
      "metadata": {
        "tags": [],
        "id": "gXt1GTeWBgVjHDGY8eN6ULVr"
      },
      "source": [
        "1. Install the Vertex AI SDK: Open a terminal window and enter the command below. You can also [install it in a virtualenv](https://googleapis.dev/python/aiplatform/latest/index.html)"
      ]
    },
    {
      "cell_type": "code",
      "id": "LuYUMfqN1Kc54cLgBWDjzqIi",
      "metadata": {
        "tags": [],
        "id": "LuYUMfqN1Kc54cLgBWDjzqIi",
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 742
        },
        "outputId": "088733cb-8b8a-4c73-9c4a-c7f3486ad669"
      },
      "source": [
        "!pip install --upgrade google-genai\n",
        "# !export GOOGLE_CLOUD_API_KEY=\"YOUR_API_KEY\""
      ],
      "execution_count": 1,
      "outputs": [
        {
          "output_type": "stream",
          "name": "stdout",
          "text": [
            "Requirement already satisfied: google-genai in /usr/local/lib/python3.12/dist-packages (1.46.0)\n",
            "Collecting google-genai\n",
            "  Downloading google_genai-1.52.0-py3-none-any.whl.metadata (46 kB)\n",
            "\u001b[2K     \u001b[90m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\u001b[0m \u001b[32m46.8/46.8 kB\u001b[0m \u001b[31m2.6 MB/s\u001b[0m eta \u001b[36m0:00:00\u001b[0m\n",
            "\u001b[?25hRequirement already satisfied: anyio<5.0.0,>=4.8.0 in /usr/local/lib/python3.12/dist-packages (from google-genai) (4.11.0)\n",
            "Requirement already satisfied: google-auth<3.0.0,>=2.14.1 in /usr/local/lib/python3.12/dist-packages (from google-genai) (2.38.0)\n",
            "Requirement already satisfied: httpx<1.0.0,>=0.28.1 in /usr/local/lib/python3.12/dist-packages (from google-genai) (0.28.1)\n",
            "Requirement already satisfied: pydantic<3.0.0,>=2.9.0 in /usr/local/lib/python3.12/dist-packages (from google-genai) (2.11.10)\n",
            "Requirement already satisfied: requests<3.0.0,>=2.28.1 in /usr/local/lib/python3.12/dist-packages (from google-genai) (2.32.4)\n",
            "Requirement already satisfied: tenacity<9.2.0,>=8.2.3 in /usr/local/lib/python3.12/dist-packages (from google-genai) (8.5.0)\n",
            "Requirement already satisfied: websockets<15.1.0,>=13.0.0 in /usr/local/lib/python3.12/dist-packages (from google-genai) (15.0.1)\n",
            "Requirement already satisfied: typing-extensions<5.0.0,>=4.11.0 in /usr/local/lib/python3.12/dist-packages (from google-genai) (4.15.0)\n",
            "Requirement already satisfied: idna>=2.8 in /usr/local/lib/python3.12/dist-packages (from anyio<5.0.0,>=4.8.0->google-genai) (3.11)\n",
            "Requirement already satisfied: sniffio>=1.1 in /usr/local/lib/python3.12/dist-packages (from anyio<5.0.0,>=4.8.0->google-genai) (1.3.1)\n",
            "Requirement already satisfied: cachetools<6.0,>=2.0.0 in /usr/local/lib/python3.12/dist-packages (from google-auth<3.0.0,>=2.14.1->google-genai) (5.5.2)\n",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /usr/local/lib/python3.12/dist-packages (from google-auth<3.0.0,>=2.14.1->google-genai) (0.4.2)\n",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /usr/local/lib/python3.12/dist-packages (from google-auth<3.0.0,>=2.14.1->google-genai) (4.9.1)\n",
            "Requirement already satisfied: certifi in /usr/local/lib/python3.12/dist-packages (from httpx<1.0.0,>=0.28.1->google-genai) (2025.10.5)\n",
            "Requirement already satisfied: httpcore==1.* in /usr/local/lib/python3.12/dist-packages (from httpx<1.0.0,>=0.28.1->google-genai) (1.0.9)\n",
            "Requirement already satisfied: h11>=0.16 in /usr/local/lib/python3.12/dist-packages (from httpcore==1.*->httpx<1.0.0,>=0.28.1->google-genai) (0.16.0)\n",
            "Requirement already satisfied: annotated-types>=0.6.0 in /usr/local/lib/python3.12/dist-packages (from pydantic<3.0.0,>=2.9.0->google-genai) (0.7.0)\n",
            "Requirement already satisfied: pydantic-core==2.33.2 in /usr/local/lib/python3.12/dist-packages (from pydantic<3.0.0,>=2.9.0->google-genai) (2.33.2)\n",
            "Requirement already satisfied: typing-inspection>=0.4.0 in /usr/local/lib/python3.12/dist-packages (from pydantic<3.0.0,>=2.9.0->google-genai) (0.4.2)\n",
            "Requirement already satisfied: charset_normalizer<4,>=2 in /usr/local/lib/python3.12/dist-packages (from requests<3.0.0,>=2.28.1->google-genai) (3.4.4)\n",
            "Requirement already satisfied: urllib3<3,>=1.21.1 in /usr/local/lib/python3.12/dist-packages (from requests<3.0.0,>=2.28.1->google-genai) (2.5.0)\n",
            "Requirement already satisfied: pyasn1<0.7.0,>=0.6.1 in /usr/local/lib/python3.12/dist-packages (from pyasn1-modules>=0.2.1->google-auth<3.0.0,>=2.14.1->google-genai) (0.6.1)\n",
            "Downloading google_genai-1.52.0-py3-none-any.whl (261 kB)\n",
            "\u001b[2K   \u001b[90m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\u001b[0m \u001b[32m261.2/261.2 kB\u001b[0m \u001b[31m8.6 MB/s\u001b[0m eta \u001b[36m0:00:00\u001b[0m\n",
            "\u001b[?25hInstalling collected packages: google-genai\n",
            "  Attempting uninstall: google-genai\n",
            "    Found existing installation: google-genai 1.46.0\n",
            "    Uninstalling google-genai-1.46.0:\n",
            "      Successfully uninstalled google-genai-1.46.0\n",
            "Successfully installed google-genai-1.52.0\n"
          ]
        },
        {
          "output_type": "display_data",
          "data": {
            "application/vnd.colab-display-data+json": {
              "pip_warning": {
                "packages": [
                  "google"
                ]
              },
              "id": "7ab746cec5c24a38a23407085014334e"
            }
          },
          "metadata": {}
        }
      ]
    },
    {
      "cell_type": "markdown",
      "id": "y4gqNx2JKVr7XGKVuCcA29Zt",
      "metadata": {
        "tags": [],
        "id": "y4gqNx2JKVr7XGKVuCcA29Zt"
      },
      "source": [
        "2. Use the following code in your application to request a model response"
      ]
    },
    {
      "cell_type": "code",
      "id": "4OfNPc6h0sOu21c6ISsXhsn0",
      "metadata": {
        "tags": [],
        "id": "4OfNPc6h0sOu21c6ISsXhsn0",
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "outputId": "6c989705-e20a-471f-8fe9-52ba681c0b49"
      },
      "source": [
        "from google import genai\n",
        "from google.genai import types\n",
        "import base64\n",
        "import os\n",
        "\n",
        "PROJECT_ID = \"qwiklabs-gcp-01-c75658565206\"\n",
        "LOCATION = \"global\"\n",
        "\n",
        "# def generate():\n",
        "    # api_key=os.environ.get(\"GOOGLE_CLOUD_API_KEY\"),\n",
        "\n",
        "client = genai.Client(\n",
        "    vertexai=True,\n",
        "    project=PROJECT_ID,\n",
        "    location=LOCATION\n",
        ")\n",
        "\n",
        "user_query = \"Write a Python function to reverse an array list.\"\n",
        "\n",
        "si_text1 = \"\"\"you are a programming expert.\n",
        "Answer programming questions in python unless told otherwise. Format during the PEP-8 style guide\n",
        "\n",
        "Don’t answer questions unrelated to programming, computers, or technology.  When asked about these, reply \\\"I am sorry, I cannot help you with that. Please try another question\\\"\"\"\"\n",
        "\n",
        "model = \"gemini-3-pro-preview\"\n",
        "contents = [\n",
        "  types.Content(\n",
        "    role=\"user\",\n",
        "    parts=[\n",
        "        types.Part.from_text(text=user_query)\n",
        "    ]\n",
        "  )\n",
        "]\n",
        "tools = [\n",
        "  types.Tool(google_search=types.GoogleSearch()),\n",
        "]\n",
        "\n",
        "generate_content_config = types.GenerateContentConfig(\n",
        "  temperature = 1,\n",
        "  top_p = 0.95,\n",
        "  max_output_tokens = 65535,\n",
        "  safety_settings = [types.SafetySetting(\n",
        "    category=\"HARM_CATEGORY_HATE_SPEECH\",\n",
        "    threshold=\"OFF\"\n",
        "  ),types.SafetySetting(\n",
        "    category=\"HARM_CATEGORY_DANGEROUS_CONTENT\",\n",
        "    threshold=\"OFF\"\n",
        "  ),types.SafetySetting(\n",
        "    category=\"HARM_CATEGORY_SEXUALLY_EXPLICIT\",\n",
        "    threshold=\"OFF\"\n",
        "  ),types.SafetySetting(\n",
        "    category=\"HARM_CATEGORY_HARASSMENT\",\n",
        "    threshold=\"OFF\"\n",
        "  )],\n",
        "  tools = tools,\n",
        "  system_instruction=[types.Part.from_text(text=si_text1)],\n",
        "  thinking_config=types.ThinkingConfig(\n",
        "    thinking_level=\"HIGH\",\n",
        "  ),\n",
        ")\n",
        "\n",
        "for chunk in client.models.generate_content_stream(\n",
        "  model = model,\n",
        "  contents = contents,\n",
        "  config = generate_content_config,\n",
        "  ):\n",
        "  if not chunk.candidates or not chunk.candidates[0].content or not chunk.candidates[0].content.parts:\n",
        "      continue\n",
        "  print(chunk.text, end=\"\")\n"
      ],
      "execution_count": 5,
      "outputs": [
        {
          "output_type": "stream",
          "name": "stdout",
          "text": [
            "Here are three common ways to write a Python function to reverse a list, ranging from the most \"Pythonic\" to a manual algorithmic approach.\n",
            "\n",
            "### Method 1: Slicing (Recommended)\n",
            "This is the most concise and standard way to reverse a list in Python. It creates a new list and does not modify the original.\n",
            "\n",
            "```python\n",
            "def reverse_list(input_list):\n",
            "    \"\"\"\n",
            "    Reverses a list using Python slicing.\n",
            "    \n",
            "    Args:\n",
            "        input_list (list): The list to be reversed.\n",
            "        \n",
            "    Returns:\n",
            "        list: A new list containing the elements in reverse order.\n",
            "    \"\"\"\n",
            "    return input_list[::-1]\n",
            "\n",
            "# Example usage:\n",
            "my_list = [1, 2, 3, 4, 5]\n",
            "reversed_list = reverse_list(my_list)\n",
            "print(reversed_list)  # Output: [5, 4, 3, 2, 1]\n",
            "```\n",
            "\n",
            "### Method 2: In-Place (Memory Efficient)\n",
            "If you need to reverse a very large list and want to save memory, use the built-in `.reverse()` method. This modifies the original list.\n",
            "\n",
            "```python\n",
            "def reverse_list_in_place(input_list):\n",
            "    \"\"\"\n",
            "    Reverses a list in-place using the built-in method.\n",
            "    \n",
            "    Args:\n",
            "        input_list (list): The list to be reversed.\n",
            "        \n",
            "    Returns:\n",
            "        list: The original list, now modified.\n",
            "    \"\"\"\n",
            "    input_list.reverse()\n",
            "    return input_list\n",
            "\n",
            "# Example usage:\n",
            "my_list = [\"a\", \"b\", \"c\"]\n",
            "reverse_list_in_place(my_list)\n",
            "print(my_list)  # Output: ['c', 'b', 'a']\n",
            "```\n",
            "\n",
            "### Method 3: Two-Pointer Approach (Algorithmic)\n",
            "This approach is often required in coding interviews to demonstrate understanding of algorithms without relying on built-in shortcuts.\n",
            "\n",
            "```python\n",
            "def reverse_list_manual(input_list):\n",
            "    \"\"\"\n",
            "    Reverses a list in-place using the two-pointer technique.\n",
            "    \n",
            "    Args:\n",
            "        input_list (list): The list to be reversed.\n",
            "        \n",
            "    Returns:\n",
            "        list: The original list, now modified.\n",
            "    \"\"\"\n",
            "    left = 0\n",
            "    right = len(input_list) - 1\n",
            "\n",
            "    while left < right:\n",
            "        # Swap the elements at the left and right pointers\n",
            "        input_list[left], input_list[right] = input_list[right], input_list[left]\n",
            "        \n",
            "        # Move pointers towards the center\n",
            "        left += 1\n",
            "        right -= 1\n",
            "\n",
            "    return input_list\n",
            "\n",
            "# Example usage:\n",
            "my_list = [10, 20, 30, 40]\n",
            "reverse_list_manual(my_list)\n",
            "print(my_list)  # Output: [40, 30, 20, 10]\n",
            "```"
          ]
        }
      ]
    }
  ],
  "metadata": {
    "kernelspec": {
      "display_name": "Python 3",
      "language": "python",
      "name": "python3"
    },
    "language_info": {
      "codemirror_mode": {
        "name": "ipython",
        "version": 3
      },
      "file_extension": ".py",
      "mimetype": "text/x-python",
      "name": "python",
      "nbconvert_exporter": "python",
      "pygments_lexer": "ipython3",
      "version": "3.10.10"
    },
    "colab": {
      "provenance": [],
      "name": "Untitled prompt Dec 2, 2025, 11:27:27 AM"
    }
  },
  "nbformat": 4,
  "nbformat_minor": 5
}